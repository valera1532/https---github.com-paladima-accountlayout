!function(a,b){"object"===typeof exports&&"object"===typeof module?module.exports=b():"function"===typeof define&&define.amd?define([],b):"object"===typeof exports?exports.scrollLock=b():a.scrollLock=b()}("undefined"!==typeof self?self:this,function(){return function(a){function c(d){if(b[d])return b[d].exports;var e=b[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,c),e.l=!0,e.exports}var b={};return c.m=a,c.c=b,c.d=function(a,b,d){c.o(a,b)||Object.defineProperty(a,b,{configurable:!1,enumerable:!0,get:d})},c.n=function(a){var b=a&&a.__esModule?function(){return a["default"]}:function(){return a};return c.d(b,"a",b),b},c.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},c.p="",c(c.s=0)}([function(a,b){"use strict";function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f="sl--scrollable",g="sl--fillgap",h="slPrevented",i="slDelta",j=["padding","margin","width"],k=!0,l=0,m=[],n=[],o=j[0],p=["body","."+g],q=[],r=function(a){return a.join(", ")},s=function(a,b){for(var c=0;c<a.length;c++)b(a[c])},t=function(a){for(var b=a.target;null!==b&&(!b.classList||!b.classList.contains(f));)b=b.parentNode;return b},u=function(a){console.error("[scroll-lock] "+a)},v=function(a){var c=t(a);if(c){var e=(c.scrollTop,c.scrollHeight),f=c.clientHeight;c.dataset[i]=a.touches[0].clientY,f===e&&(c.dataset[h]="true")}},w=function(a,b){if(!b.getState()){var c=t(a);if(c)if("true"===c.dataset[h])a.preventDefault();else{var d=c.scrollTop,e=c.scrollHeight,f=d+c.offsetHeight,g=parseFloat(c.dataset[i]),j=a.touches[0].clientY;d<=0?g<j&&a.preventDefault():f>=e&&g>j&&a.preventDefault()}else a.preventDefault()}},x=function(a){var c=t(a);c&&(c.dataset[h]="false")},y=function(a){document.addEventListener("touchstart",function(b){return v(b,a)}),document.addEventListener("touchmove",function(b){return w(b,a)},{passive:!1}),document.addEventListener("touchend",function(b){return x(b,a)})},z=function(){function a(){e(this,a),y(this)}return d(a,[{key:"getState",value:function(){return k}},{key:"hide",value:function(a){return l<=0&&(this._fillGaps(),document.body.style.overflow="hidden",k=!1),this._setTemporaryScrollableTargets(a),l++,this}},{key:"show",value:function(){return l--,l<=0?(document.body.style.overflow="",this._unfillGaps(),k=!0):this.clearQueue(),this}},{key:"clearQueue",value:function(){return l=0,this}},{key:"toggle",value:function(){return this.getState()?this.hide():this.show(),this}},{key:"getWidth",value:function(){var a=document.body.style.overflow,b=0;return document.body.style.overflow="scroll",b=this.getCurrentWidth(),document.body.style.overflow=a,b}},{key:"getCurrentWidth",value:function(){var a=document.documentElement.clientWidth,b=window.innerWidth,c=b-a;return c}},{key:"setScrollableTargets",value:function(a){var b=this;return Array.isArray(selectors)?m=a:a&&(m=[a]),s(m,function(a){return b._makeScrollableTargetsElement(a)}),this}},{key:"setFillGapMethod",value:function(a){var b=a.toLowerCase();return j.includes(b)?o=b:u('"'+a+'" method is not available!'),this}},{key:"setFillGapSelectors",value:function(a){return Array.isArray(a)?(a.push("."+g),p=a):a&&(p=[a]),this}},{key:"setFillGapTargets",value:function(a){return Array.isArray(a)?q=a:a&&(q=[a]),this}},{key:"_setTemporaryScrollableTargets",value:function(a){var b=this;Array.isArray(a)?n=a:a&&(n=[a]),s(n,function(a){return b._makeScrollableTargetsElement(a)})}},{key:"_makeScrollableTargetsElement",value:function(a){a instanceof Element&&a.classList.add(f)}},{key:"_fillGaps",value:function(){var a=this,b=r(p),c=document.querySelectorAll(b);s(c,function(b){return a._fillGapsElement(b)}),s(q,function(b){return a._fillGapsElement(b)})}},{key:"_fillGapsElement",value:function(a){var b=this.getCurrentWidth();a instanceof Element&&("margin"===o?a.style.marginRight=b+"px":"width"===o?a.style.width="calc(100% - "+b+"px)":a.style.paddingRight=b+"px")}},{key:"_unfillGaps",value:function(){var a=this,b=r(p),c=document.querySelectorAll(b);s(c,function(b){return a._unfillGapsElement(b)}),s(q,function(b){return a._unfillGapsElement(b)})}},{key:"_unfillGapsElement",value:function(a){a instanceof Element&&(a.style.marginRight="",a.style.width="",a.style.paddingRight="")}}]),a}(),A=new z;b.default=A,a.exports=A}])});